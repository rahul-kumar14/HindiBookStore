@model HindiBookStore.Models.Book

@{
    ViewData["Title"] = Model.Title;
}

<div class="container my-5">
    <div class="row">
        <div class="col-md-4">
            @if (!string.IsNullOrEmpty(Model.CoverImagePath))
            {
            <img src="@Url.Content(Model.CoverImagePath)"
                 alt="@Model.Title"
                 class="img-fluid book-detail-cover" />
            }
            else
            {
            <div class="book-detail-placeholder">📚</div>
            }
        </div>
        <div class="col-md-8">
            <h1 class="book-detail-title">@Model.Title</h1>
            <p class="book-author-large">by @Model.Author</p>
            <span class="badge bg-primary mb-3">@Model.Category?.Name</span>
            <p class="book-genre"><strong>Genre:</strong> @Model.Genre</p>
            <h5>Description:</h5>
            <p class="book-description">@Model.Description</p>
            
            @if (!string.IsNullOrEmpty(Model.PdfFilePath))
            {
                <div class="button-group">
                    <a asp-action="Read" asp-route-id="@Model.Id" class="btn-read-online">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
                        </svg>
                        Read Online
                    </a>
                    <a asp-action="Download" asp-route-id="@Model.Id" class="btn-download-pdf">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                            <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
                        </svg>
                        Download PDF
                    </a>
                </div>
            }
            else
            {
                <p class="text-muted">PDF not available for this book.</p>
            }
        </div>
    </div>
    
    <div class="row mt-4">
        <div class="col-md-12">
            <a asp-controller="Library" asp-action="Index" class="btn btn-secondary">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>
                </svg>
                Back to Library
            </a>
        </div>
    </div>
</div>

<style>
    .book-detail-cover {
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        max-width: 100%;
    }

    .book-detail-placeholder {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        font-size: 80px;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 500px;
        border-radius: 8px;
    }

    .book-detail-title {
        font-size: 2.5rem;
        font-weight: bold;
        color: #333;
        margin-bottom: 10px;
    }

    .book-author-large {
        font-size: 1.3rem;
        color: #666;
        margin-bottom: 15px;
    }

    .book-genre {
        font-size: 1rem;
        color: #555;
        margin-bottom: 20px;
    }

    .book-description {
        font-size: 1.1rem;
        line-height: 1.6;
        color: #444;
    }

    .button-group {
        display: flex;
        gap: 15px;
        margin-top: 25px;
        flex-wrap: wrap;
    }

    .btn-read-online, .btn-download-pdf {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 12px 25px;
        font-size: 1rem;
        font-weight: 600;
        border: none;
        border-radius: 8px;
        text-decoration: none;
        transition: all 0.3s ease;
    }

    .btn-read-online {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
    }

    .btn-read-online:hover {
        background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        color: white;
    }

    .btn-download-pdf {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
    }

    .btn-download-pdf:hover {
        background: linear-gradient(135deg, #f5576c 0%, #f093fb 100%);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(245, 87, 108, 0.4);
        color: white;
    }

    @@media (max-width: 768px) {
        .book-detail-title {
            font-size: 1.8rem;
        }

        .book-author-large {
            font-size: 1.1rem;
        }

        .button-group {
            flex-direction: column;
            gap: 10px;
        }

        .btn-read-online, .btn-download-pdf {
            width: 100%;
            justify-content: center;
        }
    }
</style>
